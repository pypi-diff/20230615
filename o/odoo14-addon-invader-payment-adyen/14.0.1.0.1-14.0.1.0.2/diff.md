# Comparing `tmp/odoo14_addon_invader_payment_adyen-14.0.1.0.1-py3-none-any.whl.zip` & `tmp/odoo14_addon_invader_payment_adyen-14.0.1.0.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,24 +1,26 @@
-Zip file size: 32415 bytes, number of entries: 22
--rw-r--r--  2.0 unx     4820 b- defN 23-Jan-19 15:32 odoo/addons/invader_payment_adyen/README.rst
--rw-r--r--  2.0 unx       44 b- defN 23-Jan-19 15:32 odoo/addons/invader_payment_adyen/__init__.py
--rw-r--r--  2.0 unx      614 b- defN 23-Jan-19 15:32 odoo/addons/invader_payment_adyen/__manifest__.py
--rw-r--r--  2.0 unx     3209 b- defN 23-Jan-19 15:32 odoo/addons/invader_payment_adyen/i18n/invader_payment_adyen.pot
--rw-r--r--  2.0 unx       65 b- defN 23-Jan-19 15:32 odoo/addons/invader_payment_adyen/models/__init__.py
--rw-r--r--  2.0 unx     5866 b- defN 23-Jan-19 15:32 odoo/addons/invader_payment_adyen/models/payment_acquirer.py
--rw-r--r--  2.0 unx      290 b- defN 23-Jan-19 15:32 odoo/addons/invader_payment_adyen/models/payment_transaction.py
--rw-r--r--  2.0 unx       98 b- defN 23-Jan-19 15:32 odoo/addons/invader_payment_adyen/readme/CONFIGURE.rst
--rw-r--r--  2.0 unx       42 b- defN 23-Jan-19 15:32 odoo/addons/invader_payment_adyen/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx       57 b- defN 23-Jan-19 15:32 odoo/addons/invader_payment_adyen/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx        0 b- defN 23-Jan-19 15:32 odoo/addons/invader_payment_adyen/readme/HISTORY.rst
--rw-r--r--  2.0 unx     2495 b- defN 23-Jan-19 15:32 odoo/addons/invader_payment_adyen/readme/USAGE.rst
--rw-r--r--  2.0 unx       53 b- defN 23-Jan-19 15:32 odoo/addons/invader_payment_adyen/services/__init__.py
--rw-r--r--  2.0 unx      325 b- defN 23-Jan-19 15:32 odoo/addons/invader_payment_adyen/services/exceptions.py
--rw-r--r--  2.0 unx    18826 b- defN 23-Jan-19 15:32 odoo/addons/invader_payment_adyen/services/payment_adyen.py
--rw-r--r--  2.0 unx     9455 b- defN 23-Jan-19 15:32 odoo/addons/invader_payment_adyen/static/description/icon.png
--rw-r--r--  2.0 unx    17310 b- defN 23-Jan-19 15:32 odoo/addons/invader_payment_adyen/static/description/index.html
--rw-r--r--  2.0 unx      970 b- defN 23-Jan-19 15:32 odoo/addons/invader_payment_adyen/views/payment_acquirer.xml
--rw-r--r--  2.0 unx     5538 b- defN 23-Jan-19 15:32 odoo14_addon_invader_payment_adyen-14.0.1.0.1.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jan-19 15:32 odoo14_addon_invader_payment_adyen-14.0.1.0.1.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Jan-19 15:32 odoo14_addon_invader_payment_adyen-14.0.1.0.1.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     2433 b- defN 23-Jan-19 15:32 odoo14_addon_invader_payment_adyen-14.0.1.0.1.dist-info/RECORD
-22 files, 72607 bytes uncompressed, 28211 bytes compressed:  61.1%
+Zip file size: 33642 bytes, number of entries: 24
+-rw-r--r--  2.0 unx     4820 b- defN 23-Jun-15 15:16 odoo/addons/invader_payment_adyen/README.rst
+-rw-r--r--  2.0 unx       44 b- defN 23-Jun-15 15:16 odoo/addons/invader_payment_adyen/__init__.py
+-rw-r--r--  2.0 unx      680 b- defN 23-Jun-15 15:16 odoo/addons/invader_payment_adyen/__manifest__.py
+-rw-r--r--  2.0 unx      353 b- defN 23-Jun-15 15:16 odoo/addons/invader_payment_adyen/data/decimal_precision.xml
+-rw-r--r--  2.0 unx     3669 b- defN 23-Jun-15 15:16 odoo/addons/invader_payment_adyen/i18n/invader_payment_adyen.pot
+-rw-r--r--  2.0 unx       95 b- defN 23-Jun-15 15:16 odoo/addons/invader_payment_adyen/models/__init__.py
+-rw-r--r--  2.0 unx      814 b- defN 23-Jun-15 15:16 odoo/addons/invader_payment_adyen/models/invader_payable.py
+-rw-r--r--  2.0 unx     5866 b- defN 23-Jun-15 15:16 odoo/addons/invader_payment_adyen/models/payment_acquirer.py
+-rw-r--r--  2.0 unx      290 b- defN 23-Jun-15 15:16 odoo/addons/invader_payment_adyen/models/payment_transaction.py
+-rw-r--r--  2.0 unx       98 b- defN 23-Jun-15 15:16 odoo/addons/invader_payment_adyen/readme/CONFIGURE.rst
+-rw-r--r--  2.0 unx       42 b- defN 23-Jun-15 15:16 odoo/addons/invader_payment_adyen/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx       57 b- defN 23-Jun-15 15:16 odoo/addons/invader_payment_adyen/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-15 15:16 odoo/addons/invader_payment_adyen/readme/HISTORY.rst
+-rw-r--r--  2.0 unx     2495 b- defN 23-Jun-15 15:16 odoo/addons/invader_payment_adyen/readme/USAGE.rst
+-rw-r--r--  2.0 unx       53 b- defN 23-Jun-15 15:16 odoo/addons/invader_payment_adyen/services/__init__.py
+-rw-r--r--  2.0 unx      325 b- defN 23-Jun-15 15:16 odoo/addons/invader_payment_adyen/services/exceptions.py
+-rw-r--r--  2.0 unx    18827 b- defN 23-Jun-15 15:16 odoo/addons/invader_payment_adyen/services/payment_adyen.py
+-rw-r--r--  2.0 unx     9455 b- defN 23-Jun-15 15:16 odoo/addons/invader_payment_adyen/static/description/icon.png
+-rw-r--r--  2.0 unx    17310 b- defN 23-Jun-15 15:16 odoo/addons/invader_payment_adyen/static/description/index.html
+-rw-r--r--  2.0 unx      970 b- defN 23-Jun-15 15:16 odoo/addons/invader_payment_adyen/views/payment_acquirer.xml
+-rw-r--r--  2.0 unx     5576 b- defN 23-Jun-15 15:17 odoo14_addon_invader_payment_adyen-14.0.1.0.2.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-15 15:17 odoo14_addon_invader_payment_adyen-14.0.1.0.2.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Jun-15 15:17 odoo14_addon_invader_payment_adyen-14.0.1.0.2.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     2664 b- defN 23-Jun-15 15:17 odoo14_addon_invader_payment_adyen-14.0.1.0.2.dist-info/RECORD
+24 files, 74600 bytes uncompressed, 29048 bytes compressed:  61.1%
```

## zipnote {}

```diff
@@ -3,20 +3,26 @@
 
 Filename: odoo/addons/invader_payment_adyen/__init__.py
 Comment: 
 
 Filename: odoo/addons/invader_payment_adyen/__manifest__.py
 Comment: 
 
+Filename: odoo/addons/invader_payment_adyen/data/decimal_precision.xml
+Comment: 
+
 Filename: odoo/addons/invader_payment_adyen/i18n/invader_payment_adyen.pot
 Comment: 
 
 Filename: odoo/addons/invader_payment_adyen/models/__init__.py
 Comment: 
 
+Filename: odoo/addons/invader_payment_adyen/models/invader_payable.py
+Comment: 
+
 Filename: odoo/addons/invader_payment_adyen/models/payment_acquirer.py
 Comment: 
 
 Filename: odoo/addons/invader_payment_adyen/models/payment_transaction.py
 Comment: 
 
 Filename: odoo/addons/invader_payment_adyen/readme/CONFIGURE.rst
@@ -48,20 +54,20 @@
 
 Filename: odoo/addons/invader_payment_adyen/static/description/index.html
 Comment: 
 
 Filename: odoo/addons/invader_payment_adyen/views/payment_acquirer.xml
 Comment: 
 
-Filename: odoo14_addon_invader_payment_adyen-14.0.1.0.1.dist-info/METADATA
+Filename: odoo14_addon_invader_payment_adyen-14.0.1.0.2.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_invader_payment_adyen-14.0.1.0.1.dist-info/WHEEL
+Filename: odoo14_addon_invader_payment_adyen-14.0.1.0.2.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_invader_payment_adyen-14.0.1.0.1.dist-info/top_level.txt
+Filename: odoo14_addon_invader_payment_adyen-14.0.1.0.2.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_invader_payment_adyen-14.0.1.0.1.dist-info/RECORD
+Filename: odoo14_addon_invader_payment_adyen-14.0.1.0.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/invader_payment_adyen/__manifest__.py

```diff
@@ -1,16 +1,19 @@
 # Copyright 2019 ACSONE SA/NV
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 
 {
     "name": "Invader Payment Adyen",
     "summary": """
         Adds a new payment service for Adyen""",
-    "version": "14.0.1.0.1",
+    "version": "14.0.1.0.2",
     "license": "AGPL-3",
     "author": "ACSONE SA/NV,Odoo Community Association (OCA)",
     "website": "https://github.com/shopinvader/odoo-shopinvader-payment",
-    "depends": ["invader_payment", "payment_adyen_paybylink"],
+    "depends": ["invader_payment", "payment_adyen_paybylink", "base_rest"],
     "maintainers": ["rousseldenis"],
-    "data": ["views/payment_acquirer.xml"],
+    "data": [
+        "data/decimal_precision.xml",
+        "views/payment_acquirer.xml",
+    ],
     "external_dependencies": {"python": ["cerberus", "Adyen"], "bin": []},
 }
```

## odoo/addons/invader_payment_adyen/i18n/invader_payment_adyen.pot

```diff
@@ -25,26 +25,34 @@
 
 #. module: invader_payment_adyen
 #: model:ir.model.fields,field_description:invader_payment_adyen.field_payment_transaction__adyen_payment_data
 msgid "Adyen Payment Data"
 msgstr ""
 
 #. module: invader_payment_adyen
+#: model:ir.model.fields,field_description:invader_payment_adyen.field_invader_payable__display_name
 #: model:ir.model.fields,field_description:invader_payment_adyen.field_payment_acquirer__display_name
 #: model:ir.model.fields,field_description:invader_payment_adyen.field_payment_transaction__display_name
 msgid "Display Name"
 msgstr ""
 
 #. module: invader_payment_adyen
+#: model:ir.model.fields,field_description:invader_payment_adyen.field_invader_payable__id
 #: model:ir.model.fields,field_description:invader_payment_adyen.field_payment_acquirer__id
 #: model:ir.model.fields,field_description:invader_payment_adyen.field_payment_transaction__id
 msgid "ID"
 msgstr ""
 
 #. module: invader_payment_adyen
+#: model:ir.model,name:invader_payment_adyen.model_invader_payable
+msgid "Interface for payable objects (e.g. cart, ...)"
+msgstr ""
+
+#. module: invader_payment_adyen
+#: model:ir.model.fields,field_description:invader_payment_adyen.field_invader_payable____last_update
 #: model:ir.model.fields,field_description:invader_payment_adyen.field_payment_acquirer____last_update
 #: model:ir.model.fields,field_description:invader_payment_adyen.field_payment_transaction____last_update
 msgid "Last Modified on"
 msgstr ""
 
 #. module: invader_payment_adyen
 #: code:addons/invader_payment_adyen/models/payment_acquirer.py:0
```

## odoo/addons/invader_payment_adyen/models/__init__.py

```diff
@@ -1,2 +1,3 @@
+from . import invader_payable
 from . import payment_acquirer
 from . import payment_transaction
```

## odoo/addons/invader_payment_adyen/services/payment_adyen.py

```diff
@@ -1,14 +1,13 @@
 # Copyright 2019 ACSONE SA/NV (http://acsone.eu).
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 
 import logging
 
 from odoo import fields
-from odoo.tools.float_utils import float_round
 
 from odoo.addons.base_rest import restapi
 from odoo.addons.base_rest.components.service import (
     skip_secure_response,
     to_bool,
     to_int,
 )
@@ -187,16 +186,16 @@
 
         currency = transaction.currency_id
         amount = transaction.amount
         request = {
             "merchantAccount": self._get_adyen_merchant_account(transaction),
             "countryCode": transaction.partner_id.country_id.code,
             "amount": {
-                "value": self._get_formatted_amount(currency, amount),
-                "currency": currency.symbol,
+                "value": self._get_formatted_amount(transaction, amount),
+                "currency": currency.name,
             },
             "channel": "Web",
         }
         return request
 
     def _validator_payments(self):
         """
@@ -305,15 +304,15 @@
         currency = transaction.currency_id
         amount = transaction.amount
         request = {
             "merchantAccount": self._get_adyen_merchant_account(transaction),
             "countryCode": transaction.partner_country_id.code,
             "reference": transaction.reference,
             "amount": {
-                "value": self._get_formatted_amount(currency, amount),
+                "value": self._get_formatted_amount(transaction, amount),
                 "currency": currency.name,
             },
             "channel": "Web",
             "paymentMethod": payment_method,
             "returnUrl": transaction.return_url,
             "additionalData": {"executeThreeD": True},
         }
@@ -441,22 +440,23 @@
             # Payment state has been changed through another process
             # (e.g. webhook). So, do the stuff for shopinvader_session
             transaction._notify_state_changed_event()
         res = {}
         res["redirect_to"] = return_url
         return res
 
-    def _get_formatted_amount(self, currency, amount):
+    def _get_formatted_amount(self, transaction, amount):
         """
         The expected amount format by Adyen
         :param amount: float
         :return: int
         """
-        res = int(float_round(amount, 2) * 100)
-        return res
+        return self.env["invader.payable"]._get_formatted_amount(
+            transaction, amount
+        )
 
     def _get_adyen_api_key(self, transaction):
         """
         Return adyen api key depending on payment.transaction recordset
         :param transaction: payment.transaction
         :return: string
         """
```

## Comparing `odoo14_addon_invader_payment_adyen-14.0.1.0.1.dist-info/METADATA` & `odoo14_addon_invader_payment_adyen-14.0.1.0.2.dist-info/METADATA`

 * *Files 8% similar despite different names*

```diff
@@ -1,23 +1,24 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-invader-payment-adyen
-Version: 14.0.1.0.1
+Version: 14.0.1.0.2
 Summary: Adds a new payment service for Adyen
 Home-page: https://github.com/shopinvader/odoo-shopinvader-payment
 Author: ACSONE SA/NV,Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
 Classifier: Framework :: Odoo
 Classifier: Framework :: Odoo :: 14.0
 Classifier: License :: OSI Approved :: GNU Affero General Public License v3
 Requires-Python: >=3.6
 Requires-Dist: Adyen
 Requires-Dist: cerberus
+Requires-Dist: odoo14-addon-base-rest
 Requires-Dist: odoo14-addon-invader-payment
 Requires-Dist: odoo14-addon-payment-adyen-paybylink
 Requires-Dist: odoo (<14.1dev,>=14.0a)
 
 =====================
 Invader Payment Adyen
 =====================
```

## Comparing `odoo14_addon_invader_payment_adyen-14.0.1.0.1.dist-info/RECORD` & `odoo14_addon_invader_payment_adyen-14.0.1.0.2.dist-info/RECORD`

 * *Files 7% similar despite different names*

```diff
@@ -1,22 +1,24 @@
 odoo/addons/invader_payment_adyen/README.rst,sha256=rR2leJDV7TFrj9mC8b1GF6_D_aKzWqihyZVWB1oPlyw,4820
 odoo/addons/invader_payment_adyen/__init__.py,sha256=iLIJMqyxPGaW4AYYX_MffqzP1KjldI_YrtyUvckOAbc,44
-odoo/addons/invader_payment_adyen/__manifest__.py,sha256=WSfjPCqElJ9cdrFRMXNRMLgfzRIq9uCWEqSS6B6Davk,614
-odoo/addons/invader_payment_adyen/i18n/invader_payment_adyen.pot,sha256=qDkMRx-HFq_2DpyYOMNSkbKqismCuhqC5_-1B7lJjFY,3209
-odoo/addons/invader_payment_adyen/models/__init__.py,sha256=186zhucM3WbWqwziOxbHdfTmC1y9BziEjlGnDKkHorI,65
+odoo/addons/invader_payment_adyen/__manifest__.py,sha256=9R97kWl-utDZDzKMHJDddNKJZyIUnsLkQ2QYjS9iw2k,680
+odoo/addons/invader_payment_adyen/data/decimal_precision.xml,sha256=Atw8RN3S6Wte9w-N7sNrUuJ06UmSGYeVMIFrVRnPduQ,353
+odoo/addons/invader_payment_adyen/i18n/invader_payment_adyen.pot,sha256=D4SKYgVqxOFE6wb3W4Ww6TAcHftl1jIKdtJ27sJqH6U,3669
+odoo/addons/invader_payment_adyen/models/__init__.py,sha256=GBuXmERBfy35IPUoswNxUW6RY6rqYoiXbyx5n7P4jeA,95
+odoo/addons/invader_payment_adyen/models/invader_payable.py,sha256=MY08QEmINh1jfb5UPvDM3vKbzj7imgdLuGmA_6y-mdc,814
 odoo/addons/invader_payment_adyen/models/payment_acquirer.py,sha256=uUipGn1kyZqh-GVAl6NQIpksCaqblfrtTXDcbl-NbDk,5866
 odoo/addons/invader_payment_adyen/models/payment_transaction.py,sha256=vAifpNbWSjJFjur3hm6iA2BzzKzKfmjDVvbD0GKD_Yo,290
 odoo/addons/invader_payment_adyen/readme/CONFIGURE.rst,sha256=MKl1TOGxAVmGxlwBsHJcAysZucDmHiEdZz7zAPo055o,98
 odoo/addons/invader_payment_adyen/readme/CONTRIBUTORS.rst,sha256=XOvmvmWVvuDVPNluyCog8zXbQ0wLwHqru-igToeRxwU,42
 odoo/addons/invader_payment_adyen/readme/DESCRIPTION.rst,sha256=VQDvQQpzI4_-unPs2B4x0JNsMiaRVbov_-9M7o9kUB8,57
 odoo/addons/invader_payment_adyen/readme/HISTORY.rst,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 odoo/addons/invader_payment_adyen/readme/USAGE.rst,sha256=B8LzFgb3tUsRYoOiSEn7H1ND99uaduf3qB-xOc-TIu4,2495
 odoo/addons/invader_payment_adyen/services/__init__.py,sha256=IAMvQkXKfgSOdfKXFTnJ6ZTuxuyixw2aWZ54rUynKUA,53
 odoo/addons/invader_payment_adyen/services/exceptions.py,sha256=usRkTC3zH3-i9SmL-yPupwSAvID87gBgcnWvXrtLH18,325
-odoo/addons/invader_payment_adyen/services/payment_adyen.py,sha256=Hqg3BMVPz3XW_LtGBcTbvuxWHaclCr3P42dcm9lfJT0,18826
+odoo/addons/invader_payment_adyen/services/payment_adyen.py,sha256=OKC746Pn-P0Fdq57OQjls1hdw-7z7NlLKBkuPUdQ5jU,18827
 odoo/addons/invader_payment_adyen/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
 odoo/addons/invader_payment_adyen/static/description/index.html,sha256=AFSk-ulkB-LoSFq71jgvQDgv1Mrfrcrox8AmdkF1PIM,17310
 odoo/addons/invader_payment_adyen/views/payment_acquirer.xml,sha256=N6XzC24i8VqkUvmggF16oMt35Z7Ra7vk2yLY5rCFVFk,970
-odoo14_addon_invader_payment_adyen-14.0.1.0.1.dist-info/METADATA,sha256=jJPCZmNCsWf1vaXZr4Oj9kTHHGtsfLvBThQcn8wZ_sk,5538
-odoo14_addon_invader_payment_adyen-14.0.1.0.1.dist-info/WHEEL,sha256=ewwEueio1C2XeHTvT17n8dZUJgOvyCWCt0WVNLClP9o,92
-odoo14_addon_invader_payment_adyen-14.0.1.0.1.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_invader_payment_adyen-14.0.1.0.1.dist-info/RECORD,,
+odoo14_addon_invader_payment_adyen-14.0.1.0.2.dist-info/METADATA,sha256=bMgKw79S5YicUwV_bvni964619bXa-vN703taD8GTfo,5576
+odoo14_addon_invader_payment_adyen-14.0.1.0.2.dist-info/WHEEL,sha256=ewwEueio1C2XeHTvT17n8dZUJgOvyCWCt0WVNLClP9o,92
+odoo14_addon_invader_payment_adyen-14.0.1.0.2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_invader_payment_adyen-14.0.1.0.2.dist-info/RECORD,,
```

